# raindrop monitor
서울시 공공데이터 open API를 이용하여, 최근1시간 강우량과 하수관의 수위를 조회하는 api를 제공합니다.

## Installation

```sh
poetry install
python manage.py runserver
```

## API 요청



method: GET

URL: /drainpipe/<disctrict_code>

최근 1시간 해당 구의 강수량, 하수관의 수위 데이터를 제공합니다.

구역별 평균과 1시간 이내에 측정한 데이터를 제공합니다.

response:

```json
{
    "pipe_average": {
        "12-0002": {
            "total": 0.6400000000000003,
            "cnt": 54,
            "loaction": "은평구 증산로11길 7 (장미빌라 앞~증산로11길6앞 사거리)",
            "average": 0.011851851851851858
        },
        "12-0006": {
            "total": 1.6600000000000013,
            "cnt": 54,
            "loaction": "서울특별시 은평구 녹번동 180 위너셰프 앞 도로에 위치",
            "average": 0.030740740740740763
        },
        "12-0005": {
            "total": 2.2900000000000005,
            "cnt": 54,
            "loaction": "서울특별시 은평구 녹번동 160-36 SC제일은행 앞 도로에 위치",
            "average": 0.042407407407407414
        },
        "12-0004": {
            "total": 2.3700000000000006,
            "cnt": 54,
            "loaction": "서울특별시 은평구 녹번동 159-7 새록어린이 공원 앞 도로에 위치",
            "average": 0.0438888888888889
        },
        "12-0001": {
            "total": 5.119999999999998,
            "cnt": 54,
            "loaction": "은평구 수색로 257앞 맨홀(모래내목재앞 보도상 맨홀)",
            "average": 0.09481481481481478
        },
        "12-0007": {
            "total": 0.6200000000000003,
            "cnt": 54,
            "loaction": "서울특별시 은평구 역촌동 39-1 미랜드 아파트 옆 도로에 위치",
            "average": 0.011481481481481488
        },
        "12-0003": {
            "total": 1.8000000000000014,
            "cnt": 54,
            "loaction": "은평구 증산로19길 7옆 맨홀(DoDo헤어,소망교회~세븐일레븐 사이)",
            "average": 0.03333333333333336
        },
        "12-0008": {
            "total": 3.230000000000002,
            "cnt": 54,
            "loaction": "서울특별시 은평구 역촌동 37-40 KT엠 텔레콤 역촌점 앞 도로에 위치",
            "average": 0.059814814814814855
        }
    },
    "rain_average": {
        "1303": {
            "total": 0.0,
            "cnt": 5,
            "loaction": "갈현1동",
            "average": 0.0
        },
        "1301": {
            "total": 0.0,
            "cnt": 5,
            "loaction": "은평구청",
            "average": 0.0
        },
        "1302": {
            "total": 0.0,
            "cnt": 5,
            "loaction": "증산P",
            "average": 0.0
        }
    },
    "pipe_list": [
        {
            "sensor_id": "12-0002",
            "receive_time": "2022-11-10 16:00:43.0",
            "wal": 0.01,
            "location": "은평구 증산로11길 7 (장미빌라 앞~증산로11길6앞 사거리)"
        },
        {
            "sensor_id": "12-0006",
            "receive_time": "2022-11-10 16:00:43.0",
            "wal": 0.03,
            "location": "서울특별시 은평구 녹번동 180 위너셰프 앞 도로에 위치"
        },
        ...
    ],
    "rain_list": [
        {
            "gauge_code": "1303",
            "location": "갈현1동",
            "rain_drop": 0.0,
            "receive_time": "2022-11-10 16:49"
        },
        {
            "gauge_code": "1301",
            "location": "은평구청",
            "rain_drop": 0.0,
            "receive_time": "2022-11-10 16:49"
        },
        ...
    ]
}
```